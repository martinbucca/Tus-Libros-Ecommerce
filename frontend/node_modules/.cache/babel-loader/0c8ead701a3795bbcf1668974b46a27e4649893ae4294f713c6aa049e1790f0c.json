{"ast":null,"code":"import { ApiResponse } from \"../../lib/communication/src/responses/response\";\nexport class ListPurchasesResponse extends ApiResponse {\n  static understandThis(aRawResponse) {\n    const result = aRawResponse.split('|');\n    const code = result[0];\n    return code === '0';\n  }\n  static defaultResponse() {\n    return '0|Smalltalk Best Practice Patterns|1|Modern Software Engineering|1|150000';\n  }\n  errors() {\n    return [];\n  }\n  total() {\n    const content = this._content();\n    return content[content.length - 1];\n  }\n  itemsCollect(aClosure) {\n    return this.items().map(aPurchase => {\n      return aClosure(aPurchase.article.isbn, aPurchase.quantity);\n    });\n  }\n  items() {\n    const content = this._content();\n    return 0 .range(content.length - 2, 2).map(index => {\n      return {\n        article: {\n          isbn: content[index]\n        },\n        quantity: parseInt(content[index + 1])\n      };\n    });\n  }\n  _content() {\n    return this._rawResponse.split('|').slice(1).filter(each => each !== \"\");\n  }\n}","map":{"version":3,"names":["ApiResponse","ListPurchasesResponse","understandThis","aRawResponse","result","split","code","defaultResponse","errors","total","content","_content","length","itemsCollect","aClosure","items","map","aPurchase","article","isbn","quantity","range","index","parseInt","_rawResponse","slice","filter","each"],"sources":["/Users/martin/FIUBA/Ingenieria de Software I/tus-libros/frontend/src/app/interface/ListPurchasesResponse.js"],"sourcesContent":["import {ApiResponse} from \"../../lib/communication/src/responses/response\";\n\n\nexport class ListPurchasesResponse extends ApiResponse {\n\n    static understandThis(aRawResponse) {\n        const result = aRawResponse.split('|');\n        const code = result[0];\n        return code === '0';\n    }\n\n    static defaultResponse() {\n        return '0|Smalltalk Best Practice Patterns|1|Modern Software Engineering|1|150000';\n    }\n\n\n    errors() {\n        return []\n    }\n\n    total() {\n        const content = this._content();\n        return content[content.length - 1]\n    }\n\n    itemsCollect(aClosure){\n        return this.items().map( (aPurchase) => {\n            return aClosure(aPurchase.article.isbn, aPurchase.quantity)\n        });\n    }\n\n    items(){\n        const content = this._content();\n        return (0).range(content.length - 2, 2).map( (index) => {\n            return {\n                article: {isbn: content[index]},\n                quantity: parseInt(content[index + 1])\n            }\n        } )\n    }\n\n    _content() {\n        return this._rawResponse.split('|').slice(1).filter((each) => each !== \"\");\n    }\n}"],"mappings":"AAAA,SAAQA,WAAW,QAAO,gDAAgD;AAG1E,OAAO,MAAMC,qBAAqB,SAASD,WAAW,CAAC;EAEnD,OAAOE,cAAcA,CAACC,YAAY,EAAE;IAChC,MAAMC,MAAM,GAAGD,YAAY,CAACE,KAAK,CAAC,GAAG,CAAC;IACtC,MAAMC,IAAI,GAAGF,MAAM,CAAC,CAAC,CAAC;IACtB,OAAOE,IAAI,KAAK,GAAG;EACvB;EAEA,OAAOC,eAAeA,CAAA,EAAG;IACrB,OAAO,2EAA2E;EACtF;EAGAC,MAAMA,CAAA,EAAG;IACL,OAAO,EAAE;EACb;EAEAC,KAAKA,CAAA,EAAG;IACJ,MAAMC,OAAO,GAAG,IAAI,CAACC,QAAQ,CAAC,CAAC;IAC/B,OAAOD,OAAO,CAACA,OAAO,CAACE,MAAM,GAAG,CAAC,CAAC;EACtC;EAEAC,YAAYA,CAACC,QAAQ,EAAC;IAClB,OAAO,IAAI,CAACC,KAAK,CAAC,CAAC,CAACC,GAAG,CAAGC,SAAS,IAAK;MACpC,OAAOH,QAAQ,CAACG,SAAS,CAACC,OAAO,CAACC,IAAI,EAAEF,SAAS,CAACG,QAAQ,CAAC;IAC/D,CAAC,CAAC;EACN;EAEAL,KAAKA,CAAA,EAAE;IACH,MAAML,OAAO,GAAG,IAAI,CAACC,QAAQ,CAAC,CAAC;IAC/B,OAAQ,CAAC,EAAEU,KAAK,CAACX,OAAO,CAACE,MAAM,GAAG,CAAC,EAAE,CAAC,CAAC,CAACI,GAAG,CAAGM,KAAK,IAAK;MACpD,OAAO;QACHJ,OAAO,EAAE;UAACC,IAAI,EAAET,OAAO,CAACY,KAAK;QAAC,CAAC;QAC/BF,QAAQ,EAAEG,QAAQ,CAACb,OAAO,CAACY,KAAK,GAAG,CAAC,CAAC;MACzC,CAAC;IACL,CAAE,CAAC;EACP;EAEAX,QAAQA,CAAA,EAAG;IACP,OAAO,IAAI,CAACa,YAAY,CAACnB,KAAK,CAAC,GAAG,CAAC,CAACoB,KAAK,CAAC,CAAC,CAAC,CAACC,MAAM,CAAEC,IAAI,IAAKA,IAAI,KAAK,EAAE,CAAC;EAC9E;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}